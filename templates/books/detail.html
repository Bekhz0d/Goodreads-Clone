{% extends 'base.html' %}

{% load crispy_forms_tags %}
    
{% block content %}

<div class="row mb-4">
    <div class="col-2">
        <img class="cover-pic" src="{{ book.picture.url }}" alt="">
    </div>
    <div class="col-6 ms-5">
        <h3>{{ book.title}}</h3>
        <span class="fst-italic">
            Authored by
            {% for book_author in book.bookauthor_set.all %}
                {% if forloop.last %}
                    {{ book_author.author.full_name }}
                {% else %}
                    {{ book_author.author.full_name }},
                {% endif %}
            {% endfor %}
        </span>
        <p>{{ book.description }}</p><br><hr>
        <p>ISBN: {{ book.isbn }}</p>
    </div>
</div>

<div class="row">
    <div class="col-6">
        <form method="post" action="{% url 'books:reviews' book.pk %}">
            {% csrf_token %}
            {{ review_form |crispy}}
            <button class="btn btn-success mb-3">Add review</button>
        </form>
    </div>
</div>

{% if book.bookreview_set.exists %}
    <h4>Reviews</h4> <hr>
    {% for review in book.bookreview_set.all %}
    <div class="row mb-3">
        <div class="col-2">
            <img class="profile-pic" src="{{ review.user.picture.url }}" alt="">
        </div>
        <div class="col-7">
            <b>{{ review.user.username}}</b> rated it {{ review.stars_given }} stars <span class="fw-lighter">{{ review.created_at }}</span>
            <p class="mt-2 font-monospace">{{ review.comment }}</p>
        </div>    
    </div>
    {% endfor %}
{% endif %}

{% endblock %}



<!-- <section class="ReviewCard__content"><section class="ReviewCard__row"><div class="ShelfStatus"><span aria-label="Rating 5 out of 5" role="img" class="RatingStars RatingStars__small"><span class="baseClass RatingStar--small"><svg viewBox="0 0 24 24" role="presentation"><path class="RatingStar__fill" d="M24 9.63469C24 9.35683 23.7747 9.13158 23.4969 9.13158H15.0892L12.477 1.34327C12.4269 1.19375 12.3095 1.0764 12.16 1.02625C11.8966 0.937894 11.6114 1.07983 11.523 1.34327L8.91088 9.13158H0.503157C0.33975 9.13158 0.186521 9.21094 0.0922364 9.3444C-0.0680877 9.57134 -0.0140806 9.88529 0.212865 10.0456L7.00408 14.8432L4.40172 22.6166C4.35092 22.7683 4.37534 22.9352 4.46749 23.066C4.6275 23.2932 4.94137 23.3476 5.16853 23.1876L12 18.3758L18.8317 23.183C18.9625 23.2751 19.1293 23.2994 19.281 23.2486C19.5445 23.1604 19.6865 22.8752 19.5983 22.6117L16.996 14.8432L23.7872 10.0456C23.9206 9.95133 24 9.7981 24 9.63469Z"></path></svg></span><span class="baseClass RatingStar--small"><svg viewBox="0 0 24 24" role="presentation"><path class="RatingStar__fill" d="M24 9.63469C24 9.35683 23.7747 9.13158 23.4969 9.13158H15.0892L12.477 1.34327C12.4269 1.19375 12.3095 1.0764 12.16 1.02625C11.8966 0.937894 11.6114 1.07983 11.523 1.34327L8.91088 9.13158H0.503157C0.33975 9.13158 0.186521 9.21094 0.0922364 9.3444C-0.0680877 9.57134 -0.0140806 9.88529 0.212865 10.0456L7.00408 14.8432L4.40172 22.6166C4.35092 22.7683 4.37534 22.9352 4.46749 23.066C4.6275 23.2932 4.94137 23.3476 5.16853 23.1876L12 18.3758L18.8317 23.183C18.9625 23.2751 19.1293 23.2994 19.281 23.2486C19.5445 23.1604 19.6865 22.8752 19.5983 22.6117L16.996 14.8432L23.7872 10.0456C23.9206 9.95133 24 9.7981 24 9.63469Z"></path></svg></span><span class="baseClass RatingStar--small"><svg viewBox="0 0 24 24" role="presentation"><path class="RatingStar__fill" d="M24 9.63469C24 9.35683 23.7747 9.13158 23.4969 9.13158H15.0892L12.477 1.34327C12.4269 1.19375 12.3095 1.0764 12.16 1.02625C11.8966 0.937894 11.6114 1.07983 11.523 1.34327L8.91088 9.13158H0.503157C0.33975 9.13158 0.186521 9.21094 0.0922364 9.3444C-0.0680877 9.57134 -0.0140806 9.88529 0.212865 10.0456L7.00408 14.8432L4.40172 22.6166C4.35092 22.7683 4.37534 22.9352 4.46749 23.066C4.6275 23.2932 4.94137 23.3476 5.16853 23.1876L12 18.3758L18.8317 23.183C18.9625 23.2751 19.1293 23.2994 19.281 23.2486C19.5445 23.1604 19.6865 22.8752 19.5983 22.6117L16.996 14.8432L23.7872 10.0456C23.9206 9.95133 24 9.7981 24 9.63469Z"></path></svg></span><span class="baseClass RatingStar--small"><svg viewBox="0 0 24 24" role="presentation"><path class="RatingStar__fill" d="M24 9.63469C24 9.35683 23.7747 9.13158 23.4969 9.13158H15.0892L12.477 1.34327C12.4269 1.19375 12.3095 1.0764 12.16 1.02625C11.8966 0.937894 11.6114 1.07983 11.523 1.34327L8.91088 9.13158H0.503157C0.33975 9.13158 0.186521 9.21094 0.0922364 9.3444C-0.0680877 9.57134 -0.0140806 9.88529 0.212865 10.0456L7.00408 14.8432L4.40172 22.6166C4.35092 22.7683 4.37534 22.9352 4.46749 23.066C4.6275 23.2932 4.94137 23.3476 5.16853 23.1876L12 18.3758L18.8317 23.183C18.9625 23.2751 19.1293 23.2994 19.281 23.2486C19.5445 23.1604 19.6865 22.8752 19.5983 22.6117L16.996 14.8432L23.7872 10.0456C23.9206 9.95133 24 9.7981 24 9.63469Z"></path></svg></span><span class="baseClass RatingStar--small"><svg viewBox="0 0 24 24" role="presentation"><path class="RatingStar__fill" d="M24 9.63469C24 9.35683 23.7747 9.13158 23.4969 9.13158H15.0892L12.477 1.34327C12.4269 1.19375 12.3095 1.0764 12.16 1.02625C11.8966 0.937894 11.6114 1.07983 11.523 1.34327L8.91088 9.13158H0.503157C0.33975 9.13158 0.186521 9.21094 0.0922364 9.3444C-0.0680877 9.57134 -0.0140806 9.88529 0.212865 10.0456L7.00408 14.8432L4.40172 22.6166C4.35092 22.7683 4.37534 22.9352 4.46749 23.066C4.6275 23.2932 4.94137 23.3476 5.16853 23.1876L12 18.3758L18.8317 23.183C18.9625 23.2751 19.1293 23.2994 19.281 23.2486C19.5445 23.1604 19.6865 22.8752 19.5983 22.6117L16.996 14.8432L23.7872 10.0456C23.9206 9.95133 24 9.7981 24 9.63469Z"></path></svg></span></span></div><span class="Text Text__body3"><a href="https://www.goodreads.com/review/show/1136670683">December 21, 2014</a></span></section><section class="ReviewText"><section class="ReviewText__content" dir="auto"><div class="TruncatedContent" tabindex="-1"><div class="TruncatedContent__text TruncatedContent__text--large" tabindex="-1" data-testid="contentContainer"><span class="Formatted">I thoroughly enjoyed the book even if I have found myself in violent disagreement with many of its thoughts. The book opens up with these words.<br><br><blockquote>"Every moment in business happens only once.<br><br>The next Bill Gates will not build an operating system. The next Larry Page or Sergey Brin won’t make a search engine. And the next Mark Zuckerberg won’t create a social network. If you are copying these guys, you aren’t learning from them.<br><br>It’s easier to copy a model than to make something new: doing what we already know how to do takes the world from 1 to n, adding more of something familiar. But every time we create something new, we go from 0 to 1. The act of creation is singular, as is the moment of creation, and the result is something fresh and strange."</blockquote><br><br>Initially, I kind of liked this quote. It is indeed hard to imagine a new business to threaten the dominance of Google Search or Facebook's social network. But the fact that Google search dominates is not really a zero-to-one effect, but a decisive improvement over previously existing internet search engines. Facebook was not originally conceived of as a dominant social platform; it so happened that it turned out to be well liked by millions of people beyond the original community of Harvard students. In operating systems we already have Linux and Android (using Linux) which have way more deployments than Windows. So it is not the case that "every moment in business" happens only once, unless in a very literal sense.<br><br>Peter discusses "copying" with disdain, but not all "copying" is just copying, a lot of progress happens via semi-continuous improvements. This civilization does not only progress by one-off disruptive inventions. A lot of it is steady improvements. And these improvements occasionally lead to <i>enabling</i> zero-to-one (or dominating) developments.<br><br>Peter asks "What company is nobody building?" Like the previous quote, this question has some charm, but I think it too is misleading. Well, maybe nobody is building this "company X" yet, because it is not yet <i>fully enabled</i>. Eg. voice over internet existed in the lab (IBM?) since mid 70's, but Skype made sense only much later when lots of people got access to personal computers and these computers started being connected to the Net all the time. <br><br>Bottom line: it is not all "zero to one", nor it can be or should be.<br><br>I still give the book 5 stars as I enjoyed its thought provoking character; it was an engaging reading: disagreeing, agreeing, learning new perspectives. Highly recommended but please don't treat it as Gospel :-)</span></div><div class="TruncatedContent__gradientOverlay"><div class="Button__container"><button type="button" class="Button Button--inline Button--small" aria-label="Tap to show more review"><span class="Button__labelItem">Show more</span><span class="Button__labelItem"><i class="Icon ChevronIcon"><svg viewBox="0 0 24 24"><path d="M8.70710678,9.27397892 C8.31658249,8.90867369 7.68341751,8.90867369 7.29289322,9.27397892 C6.90236893,9.63928415 6.90236893,10.2315609 7.29289322,10.5968662 L12,15 L16.7071068,10.5968662 C17.0976311,10.2315609 17.0976311,9.63928415 16.7071068,9.27397892 C16.3165825,8.90867369 15.6834175,8.90867369 15.2928932,9.27397892 L12,12.3542255 L8.70710678,9.27397892 Z" transform="rotate(0 12 12)"></path></svg></i></span></button></div></div></div></section></section><section class="ReviewCard__tags"><ul class="CollapsableList"><span tabindex="-1"></span><span tabindex="-1"></span></ul></section><footer class="SocialFooter"><div data-testid="stats" class="SocialFooter__statsContainer"><div class="Button__container"><button type="button" class="Button Button--inline Button--small Button--subdued"><span class="Button__labelItem">493 likes</span></button></div><div class="Button__container"><button type="button" class="Button Button--inline Button--small Button--subdued"><span class="Button__labelItem">3 comments</span></button></div></div><div data-testid="actions"><div class="SocialFooter__action"><div class="Button__container"><button type="button" class="Button Button--inline Button--small" aria-label="Review unliked. Press to like review"><span class="Button__labelItem"><i class="Icon LikeIcon"><svg viewBox="0 0 24 24"><path d="M14.4813282,6.41129383 L14.586127,6.97676447 C14.5964421,7.03541935 14.6071117,7.09675198 14.6181364,7.1607667 L14.8551301,8.60363442 L17.440983,8.60363442 C18.1623576,8.60363442 18.8218187,9.01120377 19.1444272,9.65642083 L19.1708204,9.70920723 C19.4523479,10.2722622 19.4523479,10.9350066 19.1708204,11.4980616 L19.118034,11.6036344 L19.1708204,11.7092072 C19.4523479,12.2722622 19.4523479,12.9350066 19.1708204,13.4980616 L19.118034,13.6036344 L19.1708204,13.7092072 C19.4523479,14.2722622 19.4523479,14.9350066 19.1708204,15.4980616 L19,15.8397024 L19,16.1036344 C19,16.7361314 18.6701344,17.3185188 18.1373501,17.6453922 L17.9472136,17.7480616 C17.4795438,17.9818965 16.9638538,18.1036344 16.440983,18.1036344 L9.66834148,18.1034086 C9.31027068,18.6437214 8.696742,19 8,19 L6,19 C4.8954305,19 4,18.1045695 4,17 L4,12 C4,10.8954305 4.8954305,10 6,10 L8,10 C8.60249245,10 9.14276174,10.2664091 9.50943372,10.6878531 L9.58578644,10.6036344 L11,9.18942086 L11,6.75238209 C10.9999468,5.91477784 11.5910613,5.19356674 12.4123594,5.02913493 C13.3640475,4.8385978 14.290004,5.45563256 14.4813282,6.41129383 Z M8,11 L6,11 C5.44771525,11 5,11.4477153 5,12 L5,17 C5,17.5522847 5.44771525,18 6,18 L8,18 C8.55228475,18 9,17.5522847 9,17 L9,12 C9,11.4477153 8.55228475,11 8,11 Z M12.6086732,6.00967606 C12.2547259,6.08053973 11.9999771,6.39134718 12,6.75231863 L12,9.60363442 L10.2928932,11.3107412 L10.2060806,11.4098185 C10.0731645,11.583364 10,11.7968342 10,12.017848 L10,17.1036344 L16.440983,17.1036344 L16.6607228,17.0934175 C16.9522889,17.0662447 17.2369485,16.9851602 17.5,16.8536344 L17.5527864,16.8272412 L17.6506941,16.7693715 C17.8674461,16.6197561 18,16.3717633 18,16.1036344 L18,15.8397024 L18.0067325,15.7238578 C18.0201527,15.6087919 18.053502,15.4966304 18.1055728,15.3924888 L18.2763932,15.050848 L18.3281023,14.9274323 C18.4142842,14.67566 18.3970478,14.3977301 18.2763932,14.1564208 L18.2236068,14.050848 L18.1718977,13.9274323 C18.0857158,13.67566 18.1029522,13.3977301 18.2236068,13.1564208 L18.2763932,13.050848 L18.3281023,12.9274323 C18.4142842,12.67566 18.3970478,12.3977301 18.2763932,12.1564208 L18.2236068,12.050848 L18.1718977,11.9274323 C18.0857158,11.67566 18.1029522,11.3977301 18.2236068,11.1564208 L18.2763932,11.050848 L18.3281023,10.9274323 C18.4142842,10.67566 18.3970478,10.3977301 18.2763932,10.1564208 L18.25,10.1036344 L18.1931817,10.005781 C18.0268209,9.75657623 17.7455186,9.60363442 17.440983,9.60363442 L14,9.60363442 L13.6620695,7.50273613 C13.6377651,7.35933353 13.6150821,7.22808389 13.5940207,7.10898721 L13.5,6.60363442 L13.473045,6.50421954 C13.3512969,6.1515805 12.9846442,5.93440304 12.6086732,6.00967606 Z"></path></svg></i></span><span class="Button__labelItem">Like</span></button></div></div><div class="SocialFooter__action"><div class="Button__container"><button type="button" class="Button Button--inline Button--small"><span class="Button__labelItem"><i class="Icon CommentIcon"><svg viewBox="0 0 24 24"><path d="M12,17 C12.7131011,17 13.4012974,16.9086027 14.0495143,16.7387293 C14.5467025,16.6084349 15.8635311,17.1955251 18,18.5 L17.8664995,17.9551149 C17.4092673,16.0317788 17.3069991,14.928779 17.5596949,14.6461156 C18.4631295,13.6355413 19,12.3715104 19,11 C19,7.6862915 15.8659932,5 12,5 C8.13400675,5 5,7.6862915 5,11 C5,14.3137085 8.13400675,17 12,17 Z M13.796012,15.7713945 C13.2202627,15.9222769 12.6169095,16 12,16 C8.65501663,16 6,13.7242715 6,11 C6,8.27572854 8.65501663,6 12,6 C15.3449834,6 18,8.27572854 18,11 C18,12.0842731 17.5831655,13.1194459 16.8141738,13.9796336 C16.416188,14.4248172 16.3323351,15.1207601 16.5018219,16.2746263 L16.539079,16.5115665 C15.2664214,15.853575 14.4145404,15.6093014 13.796012,15.7713945 Z"></path></svg></i></span><span class="Button__labelItem"> Comment</span></button></div></div><div class="SocialFooter__action" data-testid="overflow"><div class="Button__container"><button type="button" class="Button Button--transparent Button--small Button--rounded" aria-label="More options, Menu pop up"><span class="Button__labelItem"><i class="Icon MoreIcon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,10 C7.1045695,10 8,10.8954305 8,12 C8,13.1045695 7.1045695,14 6,14 C4.8954305,14 4,13.1045695 4,12 C4,10.8954305 4.8954305,10 6,10 Z M12,10 C13.1045695,10 14,10.8954305 14,12 C14,13.1045695 13.1045695,14 12,14 C10.8954305,14 10,13.1045695 10,12 C10,10.8954305 10.8954305,10 12,10 Z M18,10 C19.1045695,10 20,10.8954305 20,12 C20,13.1045695 19.1045695,14 18,14 C16.8954305,14 16,13.1045695 16,12 C16,10.8954305 16.8954305,10 18,10 Z"></path></svg></i></span></button></div></div></div></footer><hr class="Divider Divider--mediumMargin" role="presentation"></section> -->